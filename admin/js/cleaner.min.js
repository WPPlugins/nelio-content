!function(t){"use strict";t("#nc-deactivate").click(function(e){var n=t(this).attr("href");e.preventDefault();var a,i=jQuery('<div class="nc-cleaner-dialog">'+t("#_nc-cleaner-dialog").html()+"</div>");i.dialog({title:NelioContent.i18n.titles.deactivatePlugin,autoOpen:!0,closeOnEscape:!0,modal:!0,width:420,dialogClass:"nc-dialog",buttons:[{text:NelioContent.i18n.actions.close,"class":"button",click:function(){t(this).dialog("close")}},{text:NelioContent.i18n.actions.deactivate,"class":"button nc-proceed",click:function(){t(this).dialog("option","closeOnEscape",!1),t(this).closest(".ui-dialog").find("input, button, .button").prop("disabled",!0),a.removeClass("nc-super-delete-button"),a.removeClass("button-primary");var e=t(this).find('input[name="nc-deactivate-action"]:checked').val();switch(e){case"clean-and-deactivate":a.html(NelioContent.i18n.feedback.cleaning),t.ajax({url:ajaxurl,data:{action:"nelio_content_clean_and_deactivate"},success:function(){window.location.href=n},error:function(e){i.dialog("close");var a=t('<div class="nc-error-dialog">'+e.responseJSON+"</div>");a.dialog({title:NelioContent.i18n.titles.error,modal:!0,width:Math.min(500,t(window).width()-20),dialogClass:"nc-dialog",buttons:[{"class":"button nc-cancel-button",text:NelioContent.i18n.actions.deactivate,click:function(){window.location.href=n}}],close:function(){window.location.href=n}})}});break;case"cancel-subscription-and-deactivate":a.html(NelioContent.i18n.feedback.cancelingSubscription),t.ajax({url:ajaxurl,data:{action:"nelio_content_cancel_account_clean_and_deactivate"},success:function(){window.location.href=n},error:function(){window.location.reload()}});break;default:a.html(NelioContent.i18n.feedback.deactivating),window.location.href=n}}}],close:function(){t(this).dialog("destroy")}}),a=i.closest(".ui-dialog").find(".nc-proceed"),a.prop("disabled",!0),i.find('input[name="nc-deactivate-action"]').on("change",function(){var t=i.find('input[name="nc-deactivate-action"]:checked').val();switch(a.prop("disabled",!1),a.removeClass("nc-super-delete-button"),a.removeClass("button-primary"),t){case"deactivate":a.html(NelioContent.i18n.actions.deactivate),a.addClass("button-primary");break;case"clean-and-deactivate":a.html(NelioContent.i18n.actions.cleanAndDeactivate),a.addClass("button-primary");break;case"cancel-subscription-and-deactivate":a.html(NelioContent.i18n.actions.cancelSubscriptionAndDeactivate),a.addClass("nc-super-delete-button")}})})}(jQuery);